<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    <meta name="description" content="We'd love to hear from you. If you have any questions, please feel free to contact us.">
    <meta name="keywords" content="CropData, Agriculture Services, Agriculture service providers, Farming services, Krishi, Dr. Krishi, Agriculture E-Marketplace.">
    <meta name="author" content="Sachin Suri - MD, CropData, Designed & Developed by Prakash Patil">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Job Details | CropData</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" />
    <link type="text/css" rel="stylesheet" href="css/jquery.jConveyorTicker.min.css" />
    <link type="text/css" rel="stylesheet" href="css/ticker-styles.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/main.css" />

    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://cropdata.in/job-details.html">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Job Details | CropData">
    <meta property="og:description" content="We'd love to hear from you. If you have any questions, please feel free to contact us.">
    <meta property="og:image" content="https://cropdata.in/images/og-logo.png">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="cropdata.in">
    <meta property="twitter:url" content="https://cropdata.in/job-details.html">
    <meta name="twitter:title" content="Job Details | CropData">
    <meta name="twitter:description" content="We'd love to hear from you. If you have any questions, please feel free to contact us.">
    <meta name="twitter:image" content="https://cropdata.in/images/og-logo.png">

    <!-- IE function that returns browser is Internet Explorer-->
    <script>
        function isIE() {
            ua = navigator.userAgent;
            /* MSIE used to detect old browsers and Trident used to newer ones*/
            var is_ie = ua.indexOf("MSIE ") > -1 || ua.indexOf("Trident/") > -1;
            return is_ie;
        }
        /* Check and redirect to another page */
        if (isIE()) {
            location.replace("compatible-browsers.html");
        }
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-176736470-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-176736470-1');
    </script>

</head>

<body>
    <div id="loading">
        <div id="loading-center">
            <div id="loading-center-absolute">
                <img alt="" src="images/cropdata-logo-blue.svg" class="img-fluid">
            </div>
        </div>
    </div>
    <main>
        <header id="js-header">
            <div class="container menu-bar-container">
                <div class="row align-items-center">
                    <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2 logo-section">
                        <a href="index.html" class="home-logo"><img alt="" src="images/cropdata-logo-white.svg" class="img-fluid" /></a>
                        <a href="index.html" class="other-logo"><img alt="" src="images/cropdata-logo-blue.svg" class="img-fluid" /></a>
                        <a class="btn btn-primary nav-toggle"><i class="fas fa-bars"></i></a>
                    </div>
                    <div class="col-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 menu-bar">
                        <ul class="nav-menu">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="about.html">About Us</a></li>
                            <li class="submenu_parent">
                                <a class="mouse-pointer">Platforms <i class="fa fa-angle-down" aria-hidden="true"></i></a>
                                <ul class="submenu">
                                    <li><a href="dr-krishi.html">Dr. Krishi</a></li>
                                    <li><a href="agdata.html">AgData</a></li>
                                    <li><a href="agriota.html">Agriota</a></li>
                                    <li><a href="krishiCo.html">KrishiCo</a></li>
                                </ul>
                            </li>
                            <li><a href="products.html">Products & Services</a></li>
                            <li><a href="partners.html">Partners</a></li>
                            <li class="submenu_parent">
                                <a class="mouse-pointer">CropData <i class="fa fa-angle-down" aria-hidden="true"></i></a>
                                <ul class="submenu">
                                    <li><a href="news.html">News</a></li>
                                    <li><a href="csr.html">CSR</a></li>
                                    <li><a href="agriota.html#agriota-commodity" data-offset="180">Commodities</a></li>
                                    <li><a href="market-data.html">Market Data</a></li>
                                    <li><a href="career.html">Careers</a></li>
                                    <li><a href="contact.html">Contact</a></li>
                                    <li><a href="agriota-user.html">Join Us</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>

        <section class="banner" style="background-color:#000000;">
            <picture>
                <source srcset="images/careers-banner.jpg" media="(min-width: 1024px)" class="img-fluid" />
                <source srcset="images/careers-banner-medium.jpg" media="(min-width: 400px)" class="img-fluid" />
                <source srcset="images/careers-banner-small.jpg" media="(min-width: 230px)" class="img-fluid" />
                <img alt="" src="images/careers-banner.jpg" width="100%" class="img-fluid">
            </picture>
        </section>

        <section class="py-5 job-details">
            <div class="container">
                <h2 class="section-title text-center title-border">Job Details</h2>
                <div class="shadow p-3 mb-5 bg-white rounded">
                    <div class="post-details-view table-responsive">
                        <!-- <div class="font-weight-bold" id="postDate" style="padding: 7px 15px; border-radius: 2px; background-color: #efefef; color: #052494; display: inline-block; font-weight: bold;"></div> -->
                        <table class="table table-bordered m-0 jobDetailsViewTable" style="min-width:700px">
                        </table>
                    </div>
                    <div class="text-center my-4">
                        <!-- <a class="btn btn-primary jobApply" target="_blank">Apply Now</a> -->

                        <a class="btn btn-primary" data-toggle="modal" data-target="#apply_job">Apply Now</a>
                    </div>
                </div>
            </div>
        </section>

        <div class="modal" id="apply_job" tabindex="-1" role="dialog" aria-labelledby="apply_jobModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="apply_jobModalLabel">Build Your Career With CropData</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                    <div class="message mb-2"></div>
                                </div>
                            </div>
                            <form class="jobApplicationForm" id="jobApplicationForm" method="POST" onsubmit="event.preventDefault();" enctype="multipart/form-data">
                                <div class="row">
                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                                        <h6 class="application-title mb-4"></h6>
                                    </div>

                                    <input type="hidden" class="form-control" id="post_id" name="opportunityID" required="required">

                                    <div class="form-group col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                                        <label for="name">Full Name <span class="required">*</span></label>
                                        <input type="text" class="form-control" id="name" maxlength="45" name="name" placeholder="Full Name" required="required">
                                    </div>

                                    <div class="form-group col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                                        <label for="email">Email <span class="required">*</span></label>
                                        <input type="email" class="form-control" id="email" maxlength="100" name="email" placeholder="Email" required="required">
                                    </div>

                                    <div class="form-group col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                                        <label for="mobile">Mobile Number <span class="required">*</span></label>
                                        <input type="number" class="form-control" minlength="10" min="0" maxlength="10" onkeypress="if(this.value.length==10) return false;" id="mobile" name="mobile" placeholder="Mobile No." required="required">
                                    </div>


                                    <div class="form-group col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                                        <label for="address">Address</label>
                                        <input type="text" class="form-control" maxlength="255" id="address" name="address" placeholder="Address">
                                    </div>

                                    <div class="form-group col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
                                        <label>Share Your Resume <span class="required">*</span></label>
                                        <div class="custom-file">
                                            <input type="file" class="custom-file-input" name="resumeFile" id="resume" required>
                                            <label class="custom-file-label" style="overflow: hidden;" for="resume">Upload File</label>
                                            <span class="file_error"></span>
                                        </div>
                                    </div>

                                    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-4 text-center">
                                        <input type="submit" id="jobApplicationSubmitBtn" class="form-control w-auto btn btn-dark" value="Submit">
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a id="back-to-top" class="btn btn-light btn-lg back-to-top" role="button"><i class="fas fa-chevron-up"></i></a>
        <footer></footer>

        <div class="modal fade" id="formModalMsg">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Build Your Career With CropData</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body"></div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="window.history.back();">Checkout our latest jobs</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

    <script src="js/main.js" type="text/javascript"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
    <script type="text/javascript" src="js/ajax-loading.js"></script>

    <script>
        if (window.location.host == "dev.cropdata.in") {
            var baseUrl = "https://api-dev.cropdata.in/cropdata-portal/site";
        } else if (window.location.host == "uat.cropdata.in") {
            var baseUrl = "https://api-uat.cropdata.in/cropdata-portal/site";
        } else if (window.location.host == "www.cropdata.in" || window.location.host == "cropdata.in") {
            var baseUrl = "https://api-ts.cropdata.in/cropdata-portal/site";
        } else {
            var baseUrl = "https://api-dev.cropdata.in/cropdata-portal/site";
        }

        var jobApplyBaseUrl = baseUrl + '/job-application/apply-job/2'
    </script>


    <script>
        $(document).ready(function() {

            // <i class="fas fa-angle-down"></i>
            var loading = $.loading();


            $('input[type="file"]').change(function(e) {
                if (e.target.files.length != 0) {
                    var fileName = e.target.files[0].name;
                    $(this).parent().find('.custom-file-label').html(fileName);
                } else {
                    $(this).parent().find('.custom-file-label').html('Upload File');
                }
            });

            $.validator.addMethod(
                "mobileRegex",
                function(value, element, regexp) {
                    if (regexp.constructor != RegExp)
                        regexp = new RegExp(regexp);
                    else if (regexp.global)
                        regexp.lastIndex = 0;
                    return this.optional(element) || regexp.test(value);
                }, "Please Enter Valid Mobile Number"
            );

            $.validator.addMethod('filesize', function(value, element, param) {
                return this.optional(element) || (element.files[0].size <= param)
            }, 'File size must be less than {0} bytes.');


            // override jquery validate plugin defaults
            $.validator.setDefaults({
                highlight: function(element) {
                    $(element).closest(".form-group").addClass("has-error");
                },
                unhighlight: function(element) {
                    $(element).closest(".form-group").removeClass("has-error");
                },
                errorElement: "span",
                errorClass: "help-block",
                errorPlacement: function(error, element) {
                    if (
                        element.parent(".input-group").length ||
                        element.parent().parent(".input-group").length
                    ) {
                        error.insertAfter(element.closest(".input-group"));
                    } else if (element.parent(".input-group").length) {
                        error.insertAfter(element.parent());
                    } else if (
                        element.prop("type") === "radio" &&
                        element.parent(".radio-inline").length
                    ) {
                        error.insertAfter(element.parent().parent());
                    } else if (
                        element.prop("type") === "checkbox" ||
                        element.prop("type") === "radio"
                    ) {
                        error.appendTo(element.parent().parent());
                    } else {
                        error.insertAfter(element);
                    }
                },
                submitHandler: function() {
                    // if ($("#post_id").val() != null) {
                    // var data = {
                    //   name: $("#name").val(),
                    //   email: $("#email").val(),
                    //   mobile: $("#mobile").val(),
                    //   address: $("#address").val(),
                    //   resumeFile: $("#resume").val(),
                    // };
                    var jobId = $("#post_id").val();
                    $.ajax({
                        type: "POST",
                        url: baseUrl + "/job-application/apply-job",
                        // url: "http://192.168.0.50:8080/site/job-application/apply-job",
                        data: new FormData(jobApplicationForm),
                        async: true,
                        crossDomain: true,
                        cache: false,
                        contentType: false,
                        processData: false,
                        beforeSend: function(xhr) {
                            loading.open();
                            $("#jobApplicationSubmitBtn").hide();
                            $("#formModalMsg .modal-body").empty();
                            $("#apply_job").modal('hide');
                            $(".message").empty();
                        },
                        success: function(response) {
                            if (response.error != null) {
                                $(".message").append(response.error).show().css("color", "red");
                                $("#jobApplicationSubmitBtn").show();
                                $("#apply_job").modal('show');
                            }
                            if (response.message != null) {
                                $("#jobApplicationForm").trigger("reset");
                                $('#resume').val('');
                                $('.custom-file-label').html('Upload File');

                                // $(".message").append("Thank you for your interest, Your application has been submitted successfully").show().css("color", "black");
                                $("#jobApplicationSubmitBtn").show();
                                $("#formModalMsg").modal("show");
                                $("#formModalMsg .modal-body").append("Thank you for your interest, Your job application has been submitted successfully and is being processed.");
                            }
                            loading.close();
                        },
                        error: function(xhr, textStatus, errorThrown) {
                            loading.close();
                            $("#jobApplicationSubmitBtn").show();
                            // alert("Failed to submit the form");
                            setTimeout(function() {
                                $(".message").append(xhr.responseJSON.error).show();
                                if (
                                    $('.message:contains("' + xhr.responseJSON.error + '")').length > 0
                                ) {
                                    $(".message").empty();
                                    $(".message").append(xhr.responseJSON.error).show();
                                }
                            }, 0);

                            setTimeout(function() {
                                $(".message").empty().hide();
                                $("#jobApplicationSubmitBtn").show();
                            }, 3000);
                        },
                    });
                    // } else {
                    //   // alert("Please agree to our terms and conditions");
                    //   setTimeout(function () {
                    //     $(".msg-box").append("Job Application ID is Missing").show();
                    //     if (
                    //       $('.msg-box:contains("Job Application ID is Missing")').length > 0
                    //     ) {
                    //       $(".msg-box").empty();
                    //       $(".msg-box").append("Job Application ID is Missing").show();
                    //     }
                    //   }, 0);

                    //   setTimeout(function () {
                    //     $(".msg-box").empty().hide();
                    //     $("#jobApplicationSubmitBtn").show();
                    //   }, 3000);
                    // }
                },
            });

            if (jQuery().validate) {
                console.log("form validate");
                $("#jobApplicationForm").validate({
                    rules: {
                        name: {
                            required: true,
                            maxlength: 45,
                        },
                        mobile: {
                            required: true,
                            minlength: 10,
                            maxlength: 10,
                            "mobileRegex": /^((\+)?(\d{2}[-]))?(\d{10}){1}?$/
                        },
                        email: {
                            email: true,
                            required: true,
                            maxlength: 100,
                        },
                        resumeFile: {
                            extension: "jpg|jpeg|png|pdf|doc|docx",
                            // extension: "pdf|doc|docx",
                            filesize: 2000000,
                        }
                    },
                    messages: {
                        name: {
                            required: jQuery.format("Please Enter Full Name."),
                            maxlength: jQuery.format("Please Enter Name Less Than 45 Characters"),
                        },
                        email: {
                            required: jQuery.format("Please Enter Email Address."),
                            email: jQuery.format("Please Enter Valid Email Address."),
                            maxlength: jQuery.format("Please Enter Email Address Less Than 45 Characters"),
                        },
                        mobile: {
                            required: jQuery.format("Please Enter Mobile Number."),
                            minlength: jQuery.format("Please Enter 10 Digit Mobile Number"),
                            maxlength: jQuery.format("Please Enter 10 Digit Mobile Number"),
                        },
                        resumeFile: {
                            extension: jQuery.format("Please Select PNG, JPG, JPEG, PDF, Doc, Docx Format Only."),
                            filesize: jQuery.format("File Size Must Be Less Than 2 MB."),
                            required: jQuery.format("Please Select Your Resume."),
                        }
                    },
                });
            }
            $("#loading").fadeOut();
        });
    </script>
</body>

</html>