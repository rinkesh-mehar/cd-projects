<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
    <meta name="description" content="CropData publishes a comprehensive series of reports on crop, regionwise stress, yield and risk, real-time pricing, commodity wise production risk analysis, region stability analysis etc." />
    <meta name="keywords" content="CropData, CropData Reports,  Agriculture Services, Agriculture service providers, Farming services, Krishi, Dr. Krishi, Agriculture E-Marketplace." />
    <meta name="author" content="Sachin Suri - MD, CropData" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Our Research | CropData</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet" />
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" />
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="css/main.css" />


    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://cropdata.in/cropdata-reports.html">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Our Research | CropData">
    <meta property="og:description" content="CropData publishes a comprehensive series of reports on crop, regionwise stress, yield and risk, real-time pricing, commodity wise production risk analysis, region stability analysis etc.">
    <meta property="og:image" content="https://cropdata.in/images/og-logo.png">

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="cropdata.in">
    <meta property="twitter:url" content="https://cropdata.in/cropdata-reports.html">
    <meta name="twitter:title" content="Our Research | CropData">
    <meta name="twitter:description" content="CropData publishes a comprehensive series of reports on crop, regionwise stress, yield and risk, real-time pricing, commodity wise production risk analysis, region stability analysis etc.">
    <meta name="twitter:image" content="https://cropdata.in/images/og-logo.png">

    <!-- IE function that returns browser is Internet Explorer-->
    <script>
        function isIE() {
            ua = navigator.userAgent
                /* MSIE used to detect old browsers and Trident used to newer ones*/
            var is_ie = ua.indexOf('MSIE ') > -1 || ua.indexOf('Trident/') > -1
            return is_ie
        }
        /* Check and redirect to another page */
        if (isIE()) {
            location.replace('compatible-browsers.html')
        }
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-176736470-1"></script>
    <script>
        window.dataLayer = window.dataLayer || []

        function gtag() {
            dataLayer.push(arguments)
        }
        gtag('js', new Date())

        gtag('config', 'UA-176736470-1')
    </script>
</head>

<body>
    <div id="loading">
        <div id="loading-center">
            <div id="loading-center-absolute">
                <img alt="" src="images/cropdata-logo-blue.svg" class="img-fluid" />
            </div>
        </div>
    </div>
    <main>
        <header id="js-header">
            <div class="container menu-bar-container">
                <div class="row align-items-center">
                    <div class="col-12 col-sm-12 col-md-2 col-lg-2 col-xl-2 logo-section">
                        <a href="index.html" class="home-logo">
                            <img alt="" src="images/cropdata-logo-white.svg" class="img-fluid" />
                        </a>
                        <a href="index.html" class="other-logo">
                            <img alt="" src="images/cropdata-logo-blue.svg" class="img-fluid" />
                        </a>
                        <a class="btn btn-primary nav-toggle">
                            <i class="fas fa-bars"></i>
                        </a>
                    </div>
                    <div class="col-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 menu-bar">
                        <ul class="nav-menu">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="about.html">About Us</a></li>
                            <li class="submenu_parent">
                                <a class="mouse-pointer">
                  Platforms
                  <i class="fa fa-angle-down" aria-hidden="true"></i>
                </a>
                                <ul class="submenu">
                                    <li><a href="dr-krishi.html">Dr. Krishi</a></li>
                                    <li><a href="agdata.html">AgData</a></li>
                                    <li><a href="agriota.html">Agriota</a></li>
                                    <li><a href="krishiCo.html">KrishiCo</a></li>
                                </ul>
                            </li>
                            <li><a href="products.html">Products & Services</a></li>
                            <li><a href="partners.html">Partners</a></li>
                            <li class="submenu_parent">
                                <a class="mouse-pointer">
                  CropData
                  <i class="fa fa-angle-down" aria-hidden="true"></i>
                </a>
                                <ul class="submenu">
                                    <li><a href="news.html">News</a></li>
                                    <li><a href="csr.html">CSR</a></li>
                                    <li>
                                        <a href="agriota.html#agriota-commodity" data-offset="150">
                      Commodities
                    </a>
                                    </li>
                                    <li><a href="market-data.html">Market Data</a></li>
                                    <li><a href="career.html">Careers</a></li>
                                    <li><a href="contact.html">Contact</a></li>
                                    <li><a href="agriota-user.html">Join Us</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </header>

        <section class="banner" style="background-color: #000000;">
            <picture>
                <source srcset="images/cropdata-report-banner.jpg" media="(min-width: 1024px)" class="img-fluid" />
                <source srcset="images/cropdata-report-banner-medium.jpg" media="(min-width: 400px)" class="img-fluid" />
                <source srcset="images/cropdata-report-banner-small.jpg" media="(min-width: 230px)" class="img-fluid" />
                <img alt="" src="images/cropdata-report-banner.jpg" width="100%" class="img-fluid" />
            </picture>
        </section>

        <section class="py-5">
            <div class="container">
                <h2 class="section-title text-center title-border">
                    CropData Reports
                </h2>

                <div class="reportLink text-center" style="display: none;"></div>

                <form class="reportDownloadForm shadow rounded border m-auto p-4" id="reportDownloadForm" style="
              margin: 0 auto;
              max-width: 600px;
              width: 100%;
              display: none;
            " onsubmit="return false" method="POST" enctype="multipart/form-data" novalidate>
                    <div class="row">
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <h6 class="mb-4">Please Fill The Details Below</h6>
                        </div>
                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <div class="message"></div>
                        </div>
                        <input type="hidden" class="form-control" id="reportID" name="reportID" />
                        <div class="form-group col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <label for="name">
                Full Name
                <span class="required">*</span>
              </label>
                            <input type="text" class="form-control" id="name" maxlength="45" name="name" placeholder="Full Name" />
                        </div>

                        <div class="form-group col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <label for="email">
                Email
                <span class="required">*</span>
              </label>
                            <input type="email" class="form-control" id="email" maxlength="100" name="email" placeholder="Email" />
                        </div>

                        <div class="form-group col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <label for="mobile">
                Mobile Number
                <span class="required">*</span>
              </label>
                            <input type="text" class="form-control" maxlength="18" id="mobile" name="mobile" placeholder="Mobile No." required="required" />
                        </div>

                        <div class="form-group col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <label for="industry">Industry</label>
                            <select class="custom-select" id="industry" name="industryID">
                <option selected disabled value="">Select Industry</option>
              </select>
                        </div>

                        <div class="form-group col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 OtherIndustryBox">
                            <label for="otherIndustry">Other Industry Name</label>
                            <input type="text" class="form-control" id="otherIndustry" name="otherIndustry" placeholder="Other Industry Name" />
                        </div>

                        <div class="form-group col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
                            <label for="organization">Organization</label>
                            <input type="text" class="form-control" id="organization" maxlength="100" name="organization" placeholder="Please Enter Organization Name" />
                        </div>

                        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-4 text-center">
                            <input type="submit" id="reportDownloadFromSubmitBtn" class="form-control w-auto btn btn-dark" value="Submit" />
                        </div>
                    </div>
                </form>
            </div>
        </section>
        <a id="back-to-top" class="btn btn-light btn-lg back-to-top" role="button"><i class="fas fa-chevron-up"></i></a>
        <footer></footer>

        <!-- <div class="modal fade" id="formModalMsg">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">CropData Report</h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-dismiss="modal">
              Ok
            </button>
          </div>
        </div>
      </div>
    </div> -->
    </main>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

    <script src="js/main.js" type="text/javascript"></script>
    <script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
    <script type="text/javascript" src="js/ajax-loading.js"></script>

    <script>
        if (window.location.host == 'uat.cropdata.in') {
            var baseUrl = 'https://api-tsuat.cropdata.in/cropdata-portal/site'
        } else if (
            window.location.host == 'www.cropdata.in' ||
            window.location.host == 'cropdata.in'
        ) {
            var baseUrl = 'https://api-ts.cropdata.in/cropdata-portal/site'
        } else {
            var baseUrl = 'https://api-tsuat.cropdata.in/cropdata-portal/site'
                // var baseUrl = "http://192.168.0.50:8080/site"
        }
    </script>

    <script>
        $(document).ready(function() {
            var loading = $.loading()

            var name
            var email
            var mobile
            var industryID
            var otherIndustry
            var organization
            var data
            var reportId = url.searchParams.get('id')

            if (
                sessionStorage.getItem('name') === null &&
                sessionStorage.getItem('email') === null &&
                sessionStorage.getItem('mobile') === null &&
                sessionStorage.getItem('industryID') === null &&
                sessionStorage.getItem('organization') === null
            ) {
                // alert('Dont')
            } else {
                if (window.confirm('Do you want to used same form details?')) {
                    if (reportId != null && reportId > 0) {
                        data = {
                            reportId: url.searchParams.get('id'),
                            name: sessionStorage.getItem('name'),
                            email: sessionStorage.getItem('email'),
                            mobile: sessionStorage.getItem('mobile'),
                            industryID: sessionStorage.getItem('industryID'),
                            otherIndustry: sessionStorage.getItem('otherIndustry'),
                            organization: sessionStorage.getItem('organization'),
                        }
                        submitForm()
                    }
                }
            }

            $('#reportID').val(url.searchParams.get('id'))
            reportId = $('#reportID').val()
            if (url.searchParams.get('id') != null && url.searchParams.get('id') > 0) {
                $('#reportDownloadForm').show()
            } else {
                $('#reportDownloadForm').hide()
            }

            // Industry List data
            if (document.getElementById('industry')) {
                $.ajax({
                    url: baseUrl + '/partnership-request/getIndustry',
                    type: 'GET',
                    dataType: 'json',
                    beforeSend: function(xhr) {},
                    success: function(data) {
                        var dropdownValue = ''
                        $.each(data, function(index, value) {
                            dropdownValue += `<option value="${value.ID}">${value.Name}</option>`
                        })
                        $('#industry').append(dropdownValue)
                    },
                    error: function(xhr, textStatus, errorThrown) {
                        console.log('Error in Database')
                    },
                })
            }

            $('#industry').on('change', function() {
                var other_val = $(this).val()
                    // var other_val = $(this).find('option:selected').text();
                if (other_val == 13) {
                    $('.OtherIndustryBox').show()
                    $('#otherIndustry').val('')
                } else {
                    $('.OtherIndustryBox').hide()
                    $('#otherIndustry').val('')
                }
            })

            $.validator.addMethod(
                'nameRegex',
                function(value, element, regexp) {
                    if (regexp.constructor != RegExp) regexp = new RegExp(regexp)
                    else if (regexp.global) regexp.lastIndex = 0
                    return this.optional(element) || regexp.test(value)
                },
                'Please Enter Characters Only.',
            )

            $.validator.addMethod(
                'mobileNoRegex',
                function(value, element, regexp) {
                    if (regexp.constructor != RegExp) regexp = new RegExp(regexp)
                    else if (regexp.global) regexp.lastIndex = 0
                    return this.optional(element) || regexp.test(value)
                },
                'Please Enter Valid Mobile Number.',
            )

            // override jquery validate plugin defaults
            $.validator.setDefaults({
                highlight: function(element) {
                    $(element).closest('.form-group').addClass('has-error')
                },
                unhighlight: function(element) {
                    $(element).closest('.form-group').removeClass('has-error')
                },
                errorElement: 'span',
                errorClass: 'help-block',
                errorPlacement: function(error, element) {
                    if (
                        element.parent('.input-group').length ||
                        element.parent().parent('.input-group').length
                    ) {
                        error.insertAfter(element.closest('.input-group'))
                    } else if (element.parent('.input-group').length) {
                        error.insertAfter(element.parent())
                    } else if (
                        element.prop('type') === 'radio' &&
                        element.parent('.radio-inline').length
                    ) {
                        error.insertAfter(element.parent().parent())
                    } else if (
                        element.prop('type') === 'checkbox' ||
                        element.prop('type') === 'radio'
                    ) {
                        error.appendTo(element.parent().parent())
                    } else {
                        error.insertAfter(element)
                    }
                },
                submitHandler: function() {
                    if (reportId != null && reportId > 0) {
                        data = {
                            reportId: $('#reportID').val(),
                            name: $('#name').val(),
                            email: $('#email').val(),
                            mobile: $('#mobile').val(),
                            industryID: $('#industry').val(),
                            otherIndustry: $('#otherIndustry').val(),
                            organization: $('#organization').val(),
                        }

                        name = sessionStorage.setItem('name', $('#name').val())
                        email = sessionStorage.setItem('email', $('#email').val())
                        mobile = sessionStorage.setItem('mobile', $('#mobile').val())
                        industryID = sessionStorage.setItem('industryID', $('#industry').val(), )
                        otherIndustry = sessionStorage.setItem('otherIndustry', $('#otherIndustry').val(), )
                        organization = sessionStorage.setItem('organization', $('#organization').val(), )

                        submitForm()
                    } else {
                        $('.message').append('Sorry..! Report ID is missing').show().css('color', 'red')
                        $('.message').addClass('mb-2')

                        if ($('.message:contains("Sorry..! Report ID is missing")').length > 0) {
                            $('.message').empty()
                            $('.message').append('Sorry..! Report ID is missing').show()
                        }
                    }
                },
            })

            if (jQuery().validate) {
                console.log('form validate')
                $('#reportDownloadForm').validate({
                    rules: {
                        name: {
                            required: true,
                            maxlength: 100,
                            nameRegex: /^[\sA-Za-z]+$/,
                        },
                        email: {
                            email: true,
                            required: true,
                            maxlength: 100,
                        },
                        mobile: {
                            required: true,
                            minlength: 7,
                            maxlength: 18,
                            mobileNoRegex: /^[\s0-9\+\-\(\)]+$/,
                        },
                    },
                    messages: {
                        name: {
                            required: jQuery.format('Please Enter Full Name.'),
                            maxlength: jQuery.format(
                                'Please Enter Name Less Than 100 Characters',
                            ),
                        },
                        email: {
                            required: jQuery.format('Please Enter Email Address.'),
                            email: jQuery.format('Please Enter Valid Email Address.'),
                            maxlength: jQuery.format(
                                'Please Enter Email Address Less Than 100 Characters',
                            ),
                        },
                        mobile: {
                            required: jQuery.format('Please Enter Mobile Number.'),
                        },
                    },
                })
            }

            function submitForm() {
                $.ajax({
                    type: 'POST',
                    url: baseUrl + '/download-report/' + reportId,
                    contentType: 'application/json; charset=utf-8',
                    data: JSON.stringify(data),
                    dataType: 'json',
                    async: true,
                    beforeSend: function(xhr) {
                        loading.open()
                        $('#reportDownloadFromSubmitBtn').hide()
                            // $('#formModalMsg .modal-body').empty()
                        $('.message').empty()
                    },
                    success: function(response) {
                        if (response.error != null) {
                            $('.message').append('Sorry..! This Report Does Not Exist.').show().css('color', 'red')
                            $('.message').addClass('mb-2')
                        }
                        if (response.message != null) {
                            $('#reportDownloadForm').trigger('reset')

                            // $(".message").append("Thank you for your interest, Your application has been submitted successfully").show().css("color", "black");
                            $('#reportDownloadFromSubmitBtn').show()

                            // setTimeout(function () {
                            //   $('#formModalMsg').modal('show')
                            //   $('#formModalMsg .modal-body').append("<h6 class='mb-3'>Thank you for filling out your information! Please find the donwload link.</h6>")
                            // }, 0)

                            // setTimeout(function () {
                            //   $('#formModalMsg').modal('hide')
                            //   $('#formModalMsg .modal-body').empty()
                            // }, 5000)

                            $('#reportDownloadForm').hide()
                            $('.reportLink').show()
                            $('.reportLink').html("<h5 class='mb-3'>Thank you for filling out your information! Please find the donwload link below.</h5><a href='" + response.message + "' class='w-auto btn btn-dark' target='_blank'>Download Report</a> <button class='w-auto btn btn-dark' onclick='window.history.back()'>Download More</button>")
                        }
                        loading.close()
                    },
                    error: function(xhr, textStatus, errorThrown) {
                        setTimeout(function() {
                            $('.message').append(xhr.responseJSON.error).show()
                            if ($('.message:contains("' + xhr.responseJSON.error + '")').length > 0) {
                                $('.message').empty()
                                $('.message').append(xhr.responseJSON.error).show()
                            }
                        }, 0)

                        setTimeout(function() {
                            $('.message').empty().hide()
                            $('#reportDownloadFromSubmitBtn').show()
                        }, 3000)
                        loading.close()
                    },
                })
            }
            $('#loading').fadeOut()
        })
    </script>
</body>

</html>